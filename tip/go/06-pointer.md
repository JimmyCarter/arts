# 指针

C/C++程序员对指针不要太熟悉，对指针的运用熟练度几乎成了高手和菜鸟的主要评判标准，因为指针运用的背后是内存管理，内存管理的水平取决于你对计算机系统和数据结构的掌握。

GO语言同样提供指针类型，但务必注意和C/C++不同之处在于——**GO语言不支持指针运算**，换而言之，C/C++中处理字符串或结构体数组的骚操作，在GO中行不通。

例如要遍历数组，用C可以这么写
```c
int nums[] = {1, 2, 3, 4, 5, 0};
int* p = nums;

do {
  // todo ...
} while (*++p)

while (*p) {
  // todo ...
  p++;
}
```
但GO如果这么操作，就会报错，因为`++p`涉嫌指针运算罪，会被编译器判死刑，正确做法如下：
```go
nums := []int{1, 2, 3, 4, 5, 0}
for i := 0; i < len(nums); i++ {
  p := &nums[i]
  // todo ...
}
```

**GO中指针的主要用处**

(仅是我根据C语言的使用经验总结的)
1. 避免调用函数时参数压栈占用内存，如果变量占用内存大，意味着开销也大，如结构体参数
2. 引用操作，避免无意义的拷贝
3. 提升程序性能

**为什么不支持指针运算**

估计只有一个理由——**安全！防止内存泄漏**

**GO指针基本运用**

```go
var p1 *int = nil // 指针定义（空指针）

s := "hello world"
p2 := &s // 定义指针p2，‘&’符号取地址
```
